package com.service.sys;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

import net.sf.json.JSONArray;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.beans.factory.annotation.Qualifier;
import org.springframework.stereotype.Service;

import com.dao.sys.DepartmentDao;
import com.vo.TbBaseDepartment;
@Service("departmentService")
public class DepartmentService{

	@Autowired
	@Qualifier("departmentDao")
	private DepartmentDao departDaoIbts;
	public List<Map<String, Object>> queryDepartment(Map map) {
		// TODO Auto-generated method stub
		return this.departDaoIbts.queryDepartment(map);
	}
	
	
	
	/** 
	 * @Title: queryDeptTree 
	 * @Description: 返回组织架构树，查询已经是递归查询了，支持到4级
	 * @param 
	 * @return List<TbBaseDepartment>
	 * @throws 
	*/
	public List<TbBaseDepartment> queryDeptTree(){
		Map map = new HashMap<String, Object>();
		map.put("recursion", true);
		List<TbBaseDepartment> list = this.departDaoIbts.queryDepartmentForVo(map);		
		List<TbBaseDepartment> rtnList = new ArrayList<TbBaseDepartment>();
		for(int i=0;i<list.size();i++){
			TbBaseDepartment tmpDeptVO = list.get(i);
			//就支持到4级
			if(tmpDeptVO.getDeptLevel().intValue()==1){
				rtnList.add(tmpDeptVO);
			}else if(tmpDeptVO.getDeptLevel().intValue()==2){
				TbBaseDepartment tmpDeptVO1 = rtnList.get(rtnList.size()-1);
				if(tmpDeptVO1.getChildren()==null){
					List<TbBaseDepartment> tmpList1 = new ArrayList<TbBaseDepartment>();
					tmpList1.add(tmpDeptVO);
					tmpDeptVO1.setChildren(tmpList1);
				}else{
					tmpDeptVO1.getChildren().add(tmpDeptVO);
				}
			}else if(tmpDeptVO.getDeptLevel().intValue()==3){
				TbBaseDepartment tmpDeptVO2 = rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1);
				if(tmpDeptVO2.getChildren()==null){
					List<TbBaseDepartment> tmpList2 = new ArrayList<TbBaseDepartment>();
					tmpList2.add(tmpDeptVO);
					tmpDeptVO2.setChildren(tmpList2);
				}else{
					tmpDeptVO2.getChildren().add(tmpDeptVO);
				}
			}else if(tmpDeptVO.getDeptLevel().intValue()==4){
				TbBaseDepartment tmpDeptVO2 = rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1);
				if(tmpDeptVO2.getChildren()==null){
					List<TbBaseDepartment> tmpList2 = new ArrayList<TbBaseDepartment>();
					tmpList2.add(tmpDeptVO);
					tmpDeptVO2.setChildren(tmpList2);
				}else{
					tmpDeptVO2.getChildren().add(tmpDeptVO);
				}
			}else if(tmpDeptVO.getDeptLevel().intValue()==5){
				TbBaseDepartment tmpDeptVO2 = rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1);
				if(tmpDeptVO2.getChildren()==null){
					List<TbBaseDepartment> tmpList2 = new ArrayList<TbBaseDepartment>();
					tmpList2.add(tmpDeptVO);
					tmpDeptVO2.setChildren(tmpList2);
				}else{
					tmpDeptVO2.getChildren().add(tmpDeptVO);
				}
			}else if(tmpDeptVO.getDeptLevel().intValue()==6){
				
				TbBaseDepartment tmpDeptVO2 = rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1);
				if(tmpDeptVO2.getChildren()==null){
					List<TbBaseDepartment> tmpList2 = new ArrayList<TbBaseDepartment>();
					tmpList2.add(tmpDeptVO);
					tmpDeptVO2.setChildren(tmpList2);
				}else{
					tmpDeptVO2.getChildren().add(tmpDeptVO);
				}
			}else if(tmpDeptVO.getDeptLevel().intValue()==7){
				
				TbBaseDepartment tmpDeptVO2 = rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1);
				if(tmpDeptVO2.getChildren()==null){
					List<TbBaseDepartment> tmpList2 = new ArrayList<TbBaseDepartment>();
					tmpList2.add(tmpDeptVO);
					tmpDeptVO2.setChildren(tmpList2);
				}else{
					tmpDeptVO2.getChildren().add(tmpDeptVO);
				}
			}else if(tmpDeptVO.getDeptLevel().intValue()==8){
				TbBaseDepartment tmpDeptVO2 = rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1);
				if(tmpDeptVO2.getChildren()==null){
					List<TbBaseDepartment> tmpList2 = new ArrayList<TbBaseDepartment>();
					tmpList2.add(tmpDeptVO);
					tmpDeptVO2.setChildren(tmpList2);
				}else{
					tmpDeptVO2.getChildren().add(tmpDeptVO);
				}
			}else if(tmpDeptVO.getDeptLevel().intValue()==9){
				TbBaseDepartment tmpDeptVO2 = rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1);
				if(tmpDeptVO2.getChildren()==null){
					List<TbBaseDepartment> tmpList2 = new ArrayList<TbBaseDepartment>();
					tmpList2.add(tmpDeptVO);
					tmpDeptVO2.setChildren(tmpList2);
				}else{
					tmpDeptVO2.getChildren().add(tmpDeptVO);
				}
			}else if(tmpDeptVO.getDeptLevel().intValue()==10){
				TbBaseDepartment tmpDeptVO2 = rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().get(rtnList.get(rtnList.size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1).getChildren().size()-1);
				if(tmpDeptVO2.getChildren()==null){
					List<TbBaseDepartment> tmpList2 = new ArrayList<TbBaseDepartment>();
					tmpList2.add(tmpDeptVO);
					tmpDeptVO2.setChildren(tmpList2);
				}else{
					tmpDeptVO2.getChildren().add(tmpDeptVO);
				}
			}
		}
		return rtnList;
	}
	
	/** 
	 * @Title: queryDeptTree2 
	 * @Description: 返回组织架构树，符合jquery easyui tree 要求
	 * @param 
	 * @return List<Map<String,Object>>
	 * @throws 
	*/
	public List<Map<String,Object>> queryDeptTree2(List<TbBaseDepartment> deptList,List<Map<String,Object>> list){
		if(list==null){
			list = new ArrayList<Map<String,Object>>();
		}		
		if(deptList!=null && deptList.size()>0){
			for(int i=0;i<deptList.size();i++){
				Map<String,Object> tMap = new HashMap<String, Object>();
				list.add(tMap);
				tMap.put("id", deptList.get(i).getDepartId());
				tMap.put("text", deptList.get(i).getName());
				if(deptList.get(i).getChildren()!=null&&deptList.get(i).getChildren().size()>0){
					List<Map<String,Object>> tmpList = new ArrayList<Map<String,Object>>();
					tMap.put("children", tmpList);
					queryDeptTree2(deptList.get(i).getChildren(), tmpList);
				}
			}
		}
		return list;
	}
	
	
	@SuppressWarnings({ "unchecked", "rawtypes" })
	public List<TbBaseDepartment> queryAllDept(){
		Map map = new HashMap<String, Object>();
		map.put("recursion", true);
		return this.departDaoIbts.queryDepartmentForVo(map);
	}
	@SuppressWarnings({ "rawtypes", "unchecked" })
	public int updateDept(Map map){
		if(!map.containsKey("parentDepartId")){
			map.put("nullParentDepartId", true);
		}
		int cnt = 0;
		//判断当前地区、部分下是否存在与修改名称同名部门名称
		int count = departDaoIbts.queryDeptNameNumber(map);
		if(count > 0){ return -1; }
		cnt = this.departDaoIbts.updateDept(map);
		//更新部门级别
		Map tmpMap = new HashMap<String,Object>();
		tmpMap.put("parentDepartId",map.get("departId"));
		tmpMap.put("modifyUserId", map.get("modifyUserId"));
		this.updateDeptLevel(tmpMap);
		return cnt;
	}
	
	@SuppressWarnings({ "rawtypes", "unchecked" })
	public void updateDeptLevel(Map map){
		this.departDaoIbts.updateDeptLevel(map);
		List<Map<String,Object>> list = this.queryDepartment(map);
		for(int i=0;i<list.size();i++){
			Map tmpMap = new HashMap<String, Object>();
			tmpMap.put("parentDepartId",list.get(i).get("DEPART_ID"));
			tmpMap.put("modifyUserId", map.get("modifyUserId"));
			updateDeptLevel(tmpMap);
		}
		
	}
	
	
	@SuppressWarnings("rawtypes")
	public int deleteDept(Map map){
		return this.departDaoIbts.deleteDept(map);
	}
	@SuppressWarnings({ "rawtypes", "unchecked" })
	public int addDept(Map map){
		map.put("deptId", null);
		return departDaoIbts.queryDeptNameNumber(map) > 0 ? -1 : this.departDaoIbts.addDept(map);
	}
}
